<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Ö–æ–¥ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç | Unibell</title>
    <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #50ffea;
            --secondary: #9333ea;
            --telegram-blue: #0088cc;
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --text-light: #f8fafc;
            --text-muted: #94a3b8;
        }

        body {
            background: linear-gradient(135deg, var(--bg-dark) 0%, #1a2439 100%);
            font-family: 'Inter', sans-serif;
            color: var(--text-light);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            max-width: 480px;
            width: 100%;
        }

        .login-card {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        .logo {
            font-family: 'Unbounded', sans-serif;
            font-weight: 700;
            font-size: 32px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            color: var(--text-muted);
            margin-bottom: 30px;
            font-size: 16px;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-light);
            font-size: 14px;
        }

        .phone-input {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
        }

        .phone-prefix {
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            font-weight: 600;
            border-right: 1px solid rgba(255, 255, 255, 0.2);
        }

        input {
            flex: 1;
            padding: 15px;
            border: none;
            background: transparent;
            color: var(--text-light);
            font-size: 16px;
            outline: none;
        }

        input::placeholder {
            color: var(--text-muted);
        }

        .phone-input:focus-within {
            border-color: var(--primary);
        }

        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: var(--bg-dark);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(80, 255, 234, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .divider {
            display: flex;
            align-items: center;
            margin: 25px 0;
            color: var(--text-muted);
        }

        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: rgba(255, 255, 255, 0.2);
        }

        .divider span {
            padding: 0 15px;
            font-size: 14px;
        }

        .auth-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .auth-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-light);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .auth-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-1px);
        }

        .auth-btn.telegram {
            border-color: var(--telegram-blue);
            background: rgba(0, 136, 204, 0.1);
        }

        .auth-btn.telegram:hover {
            background: rgba(0, 136, 204, 0.2);
        }

        .footer {
            margin-top: 30px;
            text-align: center;
            color: var(--text-muted);
            font-size: 14px;
        }

        .footer a {
            color: var(--primary);
            text-decoration: none;
        }

        /* Telegram Notification */
        .telegram-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 320px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            overflow: hidden;
            transform: translateX(400px);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid #e0e0e0;
        }

        .telegram-notification.show {
            transform: translateX(0);
        }

        .notification-header {
            background: #f8f9fa;
            color: #333;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid #e0e0e0;
        }

        .notification-icon {
            font-size: 20px;
            color: var(--telegram-blue);
        }

        .notification-title {
            font-weight: 600;
            font-size: 16px;
            flex: 1;
        }

        .notification-close {
            background: none;
            border: none;
            color: #666;
            font-size: 16px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .notification-close:hover {
            opacity: 1;
        }

        .notification-body {
            padding: 20px;
            color: #333;
            background: white;
        }

        .notification-code {
            font-size: 28px;
            font-weight: 700;
            text-align: center;
            margin: 15px 0;
            color: #333;
            letter-spacing: 3px;
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .notification-message {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
            margin-bottom: 10px;
            text-align: center;
        }

        .notification-footer {
            padding: 12px 20px;
            font-size: 12px;
            color: #999;
            text-align: center;
            background: #f8f9fa;
            border-top: 1px solid #e0e0e0;
        }

        /* Code Input */
        .code-input {
            display: none;
        }

        .code-input.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .code-description {
            color: var(--text-muted);
            margin-bottom: 20px;
            font-size: 14px;
            line-height: 1.5;
        }

        .code-timer {
            text-align: center;
            margin: 15px 0;
            color: var(--text-muted);
            font-size: 14px;
        }

        .resend-code {
            text-align: center;
            margin-top: 15px;
        }

        .resend-link {
            color: var(--primary);
            text-decoration: none;
            font-size: 14px;
            cursor: pointer;
        }

        .resend-link:hover {
            text-decoration: underline;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--text-muted);
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 20px;
            cursor: pointer;
        }

        .back-link:hover {
            color: var(--text-light);
        }

        .method-info {
            background: rgba(80, 255, 234, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid var(--primary);
            text-align: center;
        }

        .method-icon {
            font-size: 24px;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .method-text {
            font-size: 14px;
            color: var(--text-light);
        }

        /* FlashCall Modal */
        .flashcall-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .flashcall-modal.active {
            display: flex;
        }

        .flashcall-content {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            border: 2px solid var(--primary);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .flashcall-icon {
            font-size: 48px;
            color: var(--primary);
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .flashcall-title {
            font-family: 'Unbounded', sans-serif;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .flashcall-description {
            color: var(--text-light);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .flashcall-number {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary);
            margin: 20px 0;
            padding: 15px;
            background: rgba(80, 255, 234, 0.1);
            border-radius: 10px;
            border: 1px solid var(--primary);
        }

        .flashcall-input {
            margin: 20px 0;
        }

        .flashcall-input input {
            width: 100%;
            padding: 15px;
            text-align: center;
            font-size: 18px;
            font-weight: 700;
            letter-spacing: 3px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: var(--text-light);
        }

        .flashcall-input input:focus {
            border-color: var(--primary);
        }

        .flashcall-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .flashcall-buttons .btn {
            flex: 1;
            margin: 0;
        }

        /* Custom Alert Styling */
        .custom-alert {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
        }

        .custom-alert.active {
            display: flex;
        }

        .alert-content {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            border: 2px solid var(--primary);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .alert-icon {
            font-size: 48px;
            color: var(--primary);
            margin-bottom: 20px;
            animation: ring 1.5s infinite;
        }

        @keyframes ring {
            0% { transform: rotate(0deg); }
            10% { transform: rotate(15deg); }
            20% { transform: rotate(-15deg); }
            30% { transform: rotate(15deg); }
            40% { transform: rotate(-15deg); }
            50% { transform: rotate(0deg); }
            100% { transform: rotate(0deg); }
        }

        .alert-title {
            font-family: 'Unbounded', sans-serif;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .alert-message {
            color: var(--text-light);
            margin-bottom: 25px;
            line-height: 1.5;
            font-size: 16px;
        }

        .alert-number {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary);
            margin: 20px 0;
            padding: 15px;
            background: rgba(80, 255, 234, 0.1);
            border-radius: 10px;
            border: 1px solid var(--primary);
        }

        .alert-button {
            margin-top: 20px;
        }

        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 480px) {
            .container {
                max-width: 100%;
            }
            
            .login-card {
                padding: 30px 20px;
                border-radius: 15px;
            }
            
            .logo {
                font-size: 28px;
            }
            
            .telegram-notification {
                width: calc(100% - 40px);
                right: 20px;
                left: 20px;
            }
            
            .flashcall-content,
            .alert-content {
                padding: 20px;
                margin: 20px;
            }
            
            .flashcall-icon,
            .alert-icon {
                font-size: 36px;
            }
            
            .flashcall-title,
            .alert-title {
                font-size: 20px;
            }
            
            .flashcall-number,
            .alert-number {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- Telegram Notification -->
    <div class="telegram-notification" id="telegramNotification">
        <div class="notification-header">
            <i class="fab fa-telegram notification-icon"></i>
            <div class="notification-title">Verification Codes</div>
            <button class="notification-close" id="notificationClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="notification-body">
            <div class="notification-message">
                Your login code for Unibell
            </div>
            <div class="notification-code" id="notificationCode">------</div>
            <div class="notification-message">
                Do not share this code with anyone
            </div>
        </div>
        <div class="notification-footer">
            Telegram
        </div>
    </div>

    <!-- FlashCall Modal -->
    <div class="flashcall-modal" id="flashcallModal">
        <div class="flashcall-content">
            <i class="fas fa-phone-alt flashcall-icon"></i>
            <h2 class="flashcall-title">–í—Ö–æ–¥—è—â–∏–π FlashCall</h2>
            <p class="flashcall-description">
                –ù–∞ –≤–∞—à –Ω–æ–º–µ—Ä –ø–æ—Å—Ç—É–ø–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–≤–æ–Ω–æ–∫. 
                –í–≤–µ–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 —Ü–∏—Ñ—Ä –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ—Å—Ç—É–ø–∏–ª –≤—ã–∑–æ–≤.
            </p>
            
            <div class="flashcall-number" id="flashcallNumber">
                +7 900 123-45-67
            </div>
            
            <div class="flashcall-input">
                <input type="text" id="flashcallCode" placeholder="123456" maxlength="6" required>
            </div>
            
            <div class="flashcall-buttons">
                <button class="btn btn-secondary" id="cancelFlashcall">
                    –û—Ç–º–µ–Ω–∞
                </button>
                <button class="btn btn-primary" id="confirmFlashcall">
                    –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
                </button>
            </div>
        </div>
    </div>

    <!-- Custom Alert for FlashCall -->
    <div class="custom-alert" id="customAlert">
        <div class="alert-content">
            <i class="fas fa-phone-alt alert-icon"></i>
            <h2 class="alert-title">–í—Ö–æ–¥—è—â–∏–π –≤—ã–∑–æ–≤</h2>
            <p class="alert-message">
                üìû –ù–∞ –≤–∞—à –Ω–æ–º–µ—Ä –ø–æ—Å—Ç—É–ø–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–≤–æ–Ω–æ–∫ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
            </p>
            <div class="alert-number" id="alertNumber">
                +7 900 123-45-67
            </div>
            <p class="alert-message">
                –í–≤–µ–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 —Ü–∏—Ñ—Ä —ç—Ç–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
            </p>
            <button class="btn btn-primary alert-button" id="closeAlert">
                –ü–æ–Ω—è—Ç–Ω–æ
            </button>
        </div>
    </div>

    <div class="container">
        <div class="login-card">
            <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
            <div class="login-form" id="loginForm">
                <div class="logo">UNIBELL</div>
                <div class="subtitle">–í—Ö–æ–¥ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</div>
                
                <form id="phoneForm">
                    <div class="form-group">
                        <label for="phone">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                        <div class="phone-input">
                            <div class="phone-prefix">+7</div>
                            <input type="tel" id="phone" placeholder="999 123 45 67" required maxlength="15">
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">
                        <i class="fab fa-telegram"></i> –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –≤ Telegram
                    </button>
                </form>
                
                <div class="divider">
                    <span>–∏–ª–∏ –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑</span>
                </div>
                
                <div class="auth-options">
                    <a class="auth-btn" id="flashcallBtn">
                        <i class="fas fa-phone-alt"></i>
                        FlashCall
                    </a>
                </div>
                
                <div class="footer">
                    <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                </div>
            </div>
            
            <!-- –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –∫–æ–¥–∞ -->
            <div class="code-input" id="codeInput">
                <a class="back-link" id="backToPhone">
                    <i class="fas fa-arrow-left"></i>
                    –ù–∞–∑–∞–¥ –∫ –≤–≤–æ–¥—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞
                </a>
                
                <div class="logo">UNIBELL</div>
                <div class="subtitle">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</div>
                
                <div class="method-info" id="methodInfo">
                    <i class="fab fa-telegram method-icon" id="methodIcon"></i>
                    <div class="method-text" id="methodText">
                        –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Telegram –Ω–∞ –Ω–æ–º–µ—Ä <span id="phoneNumberDisplay"></span>
                    </div>
                </div>
                
                <form id="codeForm">
                    <div class="form-group">
                        <label for="code">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</label>
                        <input type="text" id="code" placeholder="000000" required maxlength="6" class="phone-input">
                    </div>
                    
                    <button type="submit" class="btn btn-primary">
                        –í–æ–π—Ç–∏
                    </button>
                </form>
                
                <div class="code-timer" id="codeTimer">
                    –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ —á–µ—Ä–µ–∑: <span id="countdown">59</span> —Å–µ–∫
                </div>
                
                <div class="resend-code">
                    <a class="resend-link" id="resendTelegramCode">
                        <i class="fab fa-telegram"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –≤ Telegram –ø–æ–≤—Ç–æ—Ä–Ω–æ
                    </a>
                    <br>
                    <a class="resend-link" id="resendSmsCode" style="margin-top: 10px; display: none;">
                        <i class="fas fa-sms"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –ø–æ SMS
                    </a>
                </div>
                
                <div class="divider">
                    <span>–∏–ª–∏ –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑</span>
                </div>
                
                <div class="auth-options">
                    <a class="auth-btn" id="flashcallBtnCode">
                        <i class="fas fa-phone-alt"></i>
                        FlashCall
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const loginForm = document.getElementById('loginForm');
            const codeInput = document.getElementById('codeInput');
            const phoneForm = document.getElementById('phoneForm');
            const codeForm = document.getElementById('codeForm');
            const phoneInput = document.getElementById('phone');
            const codeInputField = document.getElementById('code');
            const backToPhone = document.getElementById('backToPhone');
            const resendTelegramCode = document.getElementById('resendTelegramCode');
            const resendSmsCode = document.getElementById('resendSmsCode');
            const phoneNumberDisplay = document.getElementById('phoneNumberDisplay');
            const countdownDisplay = document.getElementById('countdown');
            const methodInfo = document.getElementById('methodInfo');
            const methodIcon = document.getElementById('methodIcon');
            const methodText = document.getElementById('methodText');
            const flashcallBtn = document.getElementById('flashcallBtn');
            const flashcallBtnCode = document.getElementById('flashcallBtnCode');
            
            // Telegram notification elements
            const telegramNotification = document.getElementById('telegramNotification');
            const notificationClose = document.getElementById('notificationClose');
            const notificationCodeDisplay = document.getElementById('notificationCode');
            
            // FlashCall elements
            const flashcallModal = document.getElementById('flashcallModal');
            const flashcallNumber = document.getElementById('flashcallNumber');
            const flashcallCode = document.getElementById('flashcallCode');
            const cancelFlashcall = document.getElementById('cancelFlashcall');
            const confirmFlashcall = document.getElementById('confirmFlashcall');
            
            // Custom alert elements
            const customAlert = document.getElementById('customAlert');
            const alertNumber = document.getElementById('alertNumber');
            const closeAlert = document.getElementById('closeAlert');
            
            let countdownInterval;
            let timeLeft = 59;
            let generatedCode = '';
            let currentPhone = '';
            let telegramAttempts = 0;
            const MAX_TELEGRAM_ATTEMPTS = 2;
            let flashCallNumber = '';

            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            phoneInput.addEventListener('input', function() {
                let value = this.value.replace(/\D/g, '');
                
                if (value.length > 0) {
                    if (value.length <= 3) {
                        value = value;
                    } else if (value.length <= 6) {
                        value = value.slice(0, 3) + ' ' + value.slice(3, 6);
                    } else if (value.length <= 8) {
                        value = value.slice(0, 3) + ' ' + value.slice(3, 6) + ' ' + value.slice(6, 8);
                    } else {
                        value = value.slice(0, 3) + ' ' + value.slice(3, 6) + ' ' + value.slice(6, 8) + ' ' + value.slice(8, 10);
                    }
                }
                
                this.value = value;
            });

            // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± Telegram
            phoneForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const phone = phoneInput.value.replace(/\D/g, '');
                
                if (phone.length !== 10) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (10 —Ü–∏—Ñ—Ä)');
                    return;
                }
                
                currentPhone = '+7' + phone;
                startTelegramAuth();
            });

            // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–æ–¥–∞ Telegram - –ò–°–ü–†–ê–í–õ–ï–ù–û –¥–ª—è 6 —Ü–∏—Ñ—Ä
            codeForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const enteredCode = codeInputField.value;
                
                if (enteredCode === generatedCode) {
                    alert('–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç...');
                    resetForms();
                } else {
                    alert('–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                    codeInputField.value = '';
                    codeInputField.focus();
                }
            });

            // –ù–∞–∑–∞–¥ –∫ –≤–≤–æ–¥—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            backToPhone.addEventListener('click', function() {
                codeInput.classList.remove('active');
                loginForm.style.display = 'block';
                clearInterval(countdownInterval);
                telegramAttempts = 0;
                resendSmsCode.style.display = 'none';
            });

            // –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –≤ Telegram
            resendTelegramCode.addEventListener('click', function() {
                if (timeLeft > 0) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ ' + timeLeft + ' —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π');
                    return;
                }
                
                telegramAttempts++;
                
                if (telegramAttempts >= MAX_TELEGRAM_ATTEMPTS) {
                    // –ü–æ—Å–ª–µ 2 –ø–æ–ø—ã—Ç–æ–∫ Telegram –ø–æ–∫–∞–∑—ã–≤–∞–µ–º SMS
                    resendSmsCode.style.display = 'block';
                    methodIcon.className = 'fas fa-sms method-icon';
                    methodText.innerHTML = `–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ SMS –Ω–∞ –Ω–æ–º–µ—Ä <span id="phoneNumberDisplay">${currentPhone}</span> (Telegram –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)`;
                    alert('Telegram –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ SMS.');
                    sendSmsCode();
                } else {
                    // –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
                    sendTelegramCode();
                    alert('–ö–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Telegram');
                }
            });

            // –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –ø–æ SMS
            resendSmsCode.addEventListener('click', function() {
                if (timeLeft > 0) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ ' + timeLeft + ' —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π');
                    return;
                }
                sendSmsCode();
                alert('–ö–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ SMS');
            });

            // FlashCall –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
            flashcallBtn.addEventListener('click', function(e) {
                e.preventDefault();
                startFlashCall();
            });

            flashcallBtnCode.addEventListener('click', function(e) {
                e.preventDefault();
                startFlashCall();
            });

            // –û—Ç–º–µ–Ω–∞ FlashCall
            cancelFlashcall.addEventListener('click', function() {
                flashcallModal.classList.remove('active');
            });

            // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ FlashCall - –ò–°–ü–†–ê–í–õ–ï–ù–û
            confirmFlashcall.addEventListener('click', function() {
                const enteredCode = flashcallCode.value;
                const lastSixDigits = flashCallNumber.replace(/\D/g, '').slice(-6);
                
                console.log('–í–≤–µ–¥–µ–Ω–Ω—ã–π –∫–æ–¥:', enteredCode);
                console.log('–ü–æ—Å–ª–µ–¥–Ω–∏–µ 6 —Ü–∏—Ñ—Ä –Ω–æ–º–µ—Ä–∞:', lastSixDigits);
                console.log('–ù–æ–º–µ—Ä –∑–≤–æ–Ω—è—â–µ–≥–æ:', flashCallNumber);
                
                if (enteredCode === lastSixDigits) {
                    alert('–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ FlashCall! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç...');
                    flashcallModal.classList.remove('active');
                    resetForms();
                } else {
                    alert('–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥. –í–≤–µ–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 —Ü–∏—Ñ—Ä –Ω–æ–º–µ—Ä–∞, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ—Å—Ç—É–ø–∏–ª –∑–≤–æ–Ω–æ–∫.');
                    flashcallCode.value = '';
                    flashcallCode.focus();
                }
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∞–ª–µ—Ä—Ç–∞
            closeAlert.addEventListener('click', function() {
                customAlert.classList.remove('active');
            });

            function startFlashCall() {
                const phone = phoneInput.value.replace(/\D/g, '');
                
                if (phone.length !== 10) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞');
                    return;
                }
                
                currentPhone = '+7' + phone;
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –∫–∞–∑–∞—Ö—Å–∫–∏–π –Ω–æ–º–µ—Ä –¥–ª—è –∑–≤–æ–Ω–∫–∞
                flashCallNumber = generateKazakhPhoneNumber();
                flashcallNumber.textContent = flashCallNumber;
                alertNumber.textContent = flashCallNumber;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ FlashCall
                flashcallModal.classList.add('active');
                flashcallCode.value = '';
                flashcallCode.focus();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Å—Ç–æ–º–Ω—ã–π –∞–ª–µ—Ä—Ç –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ
                setTimeout(() => {
                    customAlert.classList.add('active');
                }, 500);
            }

            function generateKazakhPhoneNumber() {
                const prefixes = ['700', '701', '702', '705', '706', '707', '708', '709',
                                 '710', '711', '712', '713', '714', '715', '716', '717', '718', '719',
                                 '720', '721', '722', '723', '724', '725', '726', '727', '728', '729',
                                 '730', '731', '732', '733', '734', '735', '736', '737', '738', '739',
                                 '740', '741', '742', '743', '744', '745', '746', '747', '748', '749',
                                 '750', '751', '752', '753', '754', '755', '756', '757', '758', '759',
                                 '760', '761', '762', '763', '764', '765', '766', '767', '768', '769',
                                 '770', '771', '772', '773', '774', '775', '776', '777', '778', '779'];
                
                const prefix = prefixes[Math.floor(Math.random() * prefixes.length)];
                const number = Math.floor(1000000 + Math.random() * 9000000);
                
                return `+7 ${prefix} ${number.toString().slice(0, 3)}-${number.toString().slice(3, 5)}-${number.toString().slice(5, 7)}`;
            }

            function startTelegramAuth() {
                telegramAttempts = 1;
                sendTelegramCode();
            }

            function sendTelegramCode() {
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–¥
                generatedCode = Math.floor(100000 + Math.random() * 900000).toString();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ Telegram
                notificationCodeDisplay.textContent = generatedCode;
                showNotification();
                
                // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ñ–æ—Ä–º–µ –≤–≤–æ–¥–∞ –∫–æ–¥–∞
                phoneNumberDisplay.textContent = currentPhone;
                methodIcon.className = 'fab fa-telegram method-icon';
                methodText.innerHTML = `–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Telegram –Ω–∞ –Ω–æ–º–µ—Ä <span id="phoneNumberDisplay">${currentPhone}</span>`;
                
                loginForm.style.display = 'none';
                codeInput.classList.add('active');
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
                startCountdown();
                
                console.log('Telegram –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –Ω–æ–º–µ—Ä:', currentPhone, '–ö–æ–¥:', generatedCode);
            }

            function sendSmsCode() {
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π –∫–æ–¥ –¥–ª—è SMS
                generatedCode = Math.floor(100000 + Math.random() * 900000).toString();
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
                timeLeft = 59;
                startCountdown();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–µ—Ç–æ–¥–µ
                methodIcon.className = 'fas fa-sms method-icon';
                methodText.innerHTML = `–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ SMS –Ω–∞ –Ω–æ–º–µ—Ä <span id="phoneNumberDisplay">${currentPhone}</span>`;
                
                console.log('SMS –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –Ω–æ–º–µ—Ä:', currentPhone, '–ö–æ–¥:', generatedCode);
            }

            function startCountdown() {
                clearInterval(countdownInterval);
                timeLeft = 59;
                updateCountdownDisplay();
                
                countdownInterval = setInterval(function() {
                    timeLeft--;
                    updateCountdownDisplay();
                    
                    if (timeLeft <= 0) {
                        clearInterval(countdownInterval);
                    }
                }, 1000);
            }

            function updateCountdownDisplay() {
                countdownDisplay.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    countdownDisplay.textContent = '0';
                }
            }

            function resetForms() {
                loginForm.style.display = 'block';
                codeInput.classList.remove('active');
                phoneForm.reset();
                codeForm.reset();
                clearInterval(countdownInterval);
                hideNotification();
                telegramAttempts = 0;
                resendSmsCode.style.display = 'none';
            }

            // Telegram notification functions
            function showNotification() {
                telegramNotification.classList.add('show');
                
                setTimeout(() => {
                    hideNotification();
                }, 10000);
            }

            function hideNotification() {
                telegramNotification.classList.remove('show');
            }

            notificationClose.addEventListener('click', hideNotification);

            // –ê–≤—Ç–æ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –≤–≤–æ–¥–µ 6 —Ü–∏—Ñ—Ä –¥–ª—è Telegram - –ò–°–ü–†–ê–í–õ–ï–ù–û
            codeInputField.addEventListener('input', function() {
                // –£–±–∏—Ä–∞–µ–º –≤—Å–µ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã
                this.value = this.value.replace(/\D/g, '');
                
                // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É 6 —Å–∏–º–≤–æ–ª–∞–º–∏
                if (this.value.length > 6) {
                    this.value = this.value.slice(0, 6);
                }
                
                // –ê–≤—Ç–æ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –≤–≤–æ–¥–µ 6 —Ü–∏—Ñ—Ä
                if (this.value.length === 6) {
                    setTimeout(() => {
                        codeForm.dispatchEvent(new Event('submit'));
                    }, 100);
                }
            });

            // –ê–≤—Ç–æ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è FlashCall - –ò–°–ü–†–ê–í–õ–ï–ù–û –¥–ª—è 6 —Ü–∏—Ñ—Ä
            flashcallCode.addEventListener('input', function() {
                // –£–±–∏—Ä–∞–µ–º –≤—Å–µ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã
                this.value = this.value.replace(/\D/g, '');
                
                // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É 6 —Å–∏–º–≤–æ–ª–∞–º–∏
                if (this.value.length > 6) {
                    this.value = this.value.slice(0, 6);
                }
                
                // –ê–≤—Ç–æ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –≤–≤–æ–¥–µ 6 —Ü–∏—Ñ—Ä
                if (this.value.length === 6) {
                    setTimeout(() => {
                        confirmFlashcall.click();
                    }, 100);
                }
            });
        });
    </script>
</body>
</html>
